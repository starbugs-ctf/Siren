import { Ctx } from "blitz"
import db from "db"

export default async function getProblemWithExploits(problemId: number, ctx: Ctx) {
  const problem = await db.problem.findUnique({
    where: {
      id: problemId,
    },
    include: {
      exploits: {
        orderBy: [
          { name: "asc" },
          {
            createdAt: "desc",
          },
        ],
      },
    },
  })
  return problem
}
